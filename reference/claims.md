# Claims

Po.et is a decentralized event-sourced system. Events can be made up of any data, and they are anchored to the blockchain in the form of _claims_.

### Claim Goals

* Interoperable with any blockchain
* Interoperable with any storage mechanism (initially stored on IPFS)
* Batchable in arbitrary batch sizes and intervals to minimize transaction costs
* Performant enough to handle real-time streaming of claims from many different applications
* Support for arbitrary timing precision

### Claim Structure

Claims can have any information at all, but must include:

* `id` - A URI containing the hash of the claim contents, excluding the signature and id fields
* `type` - A URI or an array of URIs referencing one or more type specifications
* `issuer` - A URI referencing the identity (person or orginazition) making the claim
* `issuanceDate` - The date the claim was made (can be compared to current atomic time and potentially rejected if it is too far in the past), recorded as an [ISO 8601 string](https://en.wikipedia.org/wiki/ISO_8601) in UTC time
* `claim` - An object containing properties for the claim being made
* `proof` - A [Linked Data Signature](https://w3c-dvcg.github.io/ld-signatures/#linked-data-signature-overview) object
  - `type` - A URI that identifies the digital signature suite that was used to create the signature. Often, just the signature suite name (e.g. RsaSignature2018) is required from developers to initiate the creation of a signature. 
  - `creator` - A URI that identifies the public/private key pair associated with the signature.The URI SHOULD be a URL that can be 
  dereferenced to obtain a linked data document that contains a link identifying the entity that owns the key pair. 
  Dereferencing the entity link SHOULD result in a Linked Data document that contains a link back to the URL identifier 
  for the public/private key pair, thereby proving ownership.
  - `proofValue` - The signature, signing the entire claim, excluding the `id` and `signature` fields, except for nonce.
  - `created` - The string value of an [ISO8601](https://www.iso.org/standard/40874.html) combined date and time string generated by the Signature Algorithm.
  - `nonce?` - Optional, but strongly recommended. A string value that is included in the digital signature and MUST only be used once for a particular domain and window of time. This value is used to mitigate replay attacks.
  - `domain?` - A string value specifying the restricted domain of the signature.

For example, a claim could look like this:


```json
{
  "id": "po.et://claims/15867401b92567b4f7ea83e39a646ab9eb581b560bc78488b7a0c1b586c70215",
  "type": ["po.et://schemas/claim-types/creative-work"],
  "issuer": "po.et://identities/123",
  "issuanceDate": "2018-05-22T22:05:53.391Z",
  "claim": {
    "name": "The Murders in the Rue Morgue",
    "author": "Edgar Allan Poe",
    "tags": ["short story", "detective story", "detective"],
    "dateCreated": "1841-01-01T00:00:00.000Z",
    "datePublished": "1841-01-01T00:00:00.000Z",
    "archiveUrl": "po.et://creative-works/ipfs/<ipfs hash>",
    "canonicalUrl": "http://xroads.virginia.edu/~hyper/poe/murders.html",
    "hash": "<file hash>"
  },
  "proof": {
    "type": "EcdsaKoblitzSignature2016",
    "creator": "https://example.com/i/pat/keys/5",
    "created": "2017-09-23T20:21:34Z",
    "nonce": "2bbgh3dgjg2302d-d2b3gi423d42",
    "proofValue": "304402201824b78d3703162eb7f240341968ebfecad1f002f988dbc9ec80c1317e49d6290220470124c7425a5d8024778991863f0a25931a7e45fb72223bea81728a08e30b50",
  }
}
```

We use URIs to resolve identities and references for now, pending investigation and progress into the [DID specification](https://w3c-ccg.github.io/did-spec/). Lots of existing developer tools already know how to resolve URIs, which will maximize our ability to take advantage of already existing tools.

### Further Reading
1. [W3C Verifiable Credentials Data Model: Claims Draft](https://w3c.github.io/vc-data-model/#claims)
2. [W3C Linked Data Signatures 1.0 - Draft: Linked Data Signature Overview](https://w3c-dvcg.github.io/ld-signatures/#linked-data-signature-overview)
3. [W3C Linked Data Signatures 1.0 - Draft: Multiple Signatures](https://w3c-dvcg.github.io/ld-signatures/#multiple-signatures)
4. [W3C RDF Dataset Normalization](https://json-ld.github.io/normalization/spec/)
